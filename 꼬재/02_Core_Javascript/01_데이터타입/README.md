# 01. 데이터 타입

---

## 01 데이터 타입의 종류

---

자바스크립트에서 데이터 타입은 크게 두 가지로 나뉜다.

- 원시형(primitive type)
  - 숫자(number), 문자(string), 불리언(boolean), null, undefined, 심볼(Symbol) 등
- 참조형(reference type)
  - 배열(Array), 함수(Function), 날짜(Date), 정규표현식(RegExp), Map, WeakMap, Set, WeakSet 등

<br />

## 02 데이터 타입에 관한 배경지식

---

### 1-2-1 메모리와 데이터

---

1bit(비트)는 0 또는 1로 구성되어 있다.
1byte(바이트)는 8bit(비트)로 구성되어 있다.

모든 데이터는 바이트 단위의 식별자, 더 정확하게는 메모리 주솟값(memory address)을 통해 서로 구분하고 연결할 수 있다.

<br />

### 1-2-2 식별자와 변수

---

변수

- 변할 수 있는 수(여기서 수는 반드시 숫자는 아니다.)

식별자(변수명)

- 어떤 데이터를 식별하는 데 사용하는 이름

<br />

## 03 변수 선언과 데이터 할당

---

```javascript
const x = 5;
```

자바스크립트는 내부적으로 `변수명을 저장하는 주소(변수 영역)`와 `데이터를 저장하는 주소(데이터 영역)`로 나뉜다.
변수명을 저장하는 주소

- 변수명과 해당 데이터의 주소를 가지고 있다.
- 변수명 x와 숫자형 데이터 5의 주소값을 가지고 있다.

데이터를 저장하는 주소

- 해당 데이터의 값을 가지고 있다.
- 숫자형 데이터 5를 가지고 있다.

변수명을 저장하는 주소와 데이터를 저장하는 주소를 따로 관리하는 이유?

- 변수 영역과 데이터 영역을 분리하면 중복된 데이터에 대한 처리 효율이 높아질 수 있다.

<br />

## 04 기본형 데이터와 참조형 데이터

---

변수와 상수를 구분하는 성질은 '변경 가능성'이다.
바꿀 수 있으면 변수, 바꿀 수 없으면 상수

변수와 상수를 구분 짓는 변경 가능성의 대상

- 변수 영역의 메모리

불변성 여부를 구분할 때의 변경 가능성의 대상

- 데이터 영역의 메모리

```javascript
const a = 10;
let b = a;

const obj1 = { c: 10, d: "ddd" };
let obj2 = obj1;

b = 15;
obj2.c = 20;
```

변수를 복사하는 과정은 기본형 데이터와 참조형 데이터 모두 같은 주소를 바라보게 되는 점에서 동일하다.

복사 과정은 동일하지만 데이터 할당 과정에서 차이가 존재하기 때문에 복사 이후의 동작에서 큰 차이가 발생하게 된다.

```javascript
a !== b;
obj1 === obj2;
```

b가 10로 재할당 이루어질 경우 b의 변수 영역은 10를 가리키고 있던 데이터 영역의 주소를 제거하고 15이라는 데이터 영역을 새로 만들어 가리키게 되기 때문에 a와 b는 다른 주소를 가리키게 된다.
하지만, obj2의 c 값을 15로 변경할 경우
obj2 변수 영역은 obj1과 동일하게 데이터 영역의 주소를 참조하고
해당하는 데이터 영역이 참조하고 있는 객체 변수 영역의 c는 15를 가리키고 있던 데이터 영역의 주소를 제거하고 20이라는 데이터 영역을 새로 만들어 가리키게 되기 때문에 obj2와 obj1은 서로 같은 주소를 가리키고 있다.

여기서 원시형 데이터와 참조형 데이터의 분명한 차이점은 주솟값을 복사하는 과정입니다.
원시형 데이터는 주솟값 복사하는 과정이 한 번만 이뤄지고,
참조형 데이터는 주솟값 복사하는 과정을 한 번 더 거치게 된다는 점이다.

하지만, obj2에 새로운 객체를 할당하게 된다면 obj2는 obj1과 다른 주소값을 갖게 됩니다.

```javascript
const a = 10;
let b = a;
const obj1 = { c: 10, d: "ddd" };
let obj2 = obj1;

b = 15;
obj2 = { c: 20, d: "ddd" };
```

즉, 참조형 데이터가 '가변값'이라고 설명할 대의 '가변'은 참조형 데이터 자체를 변경할 경우가 아니라 그 내부의 프로퍼티를 변경할 때만 성립됩니다.

## 05. 불변 객체

---

불변 객체가 필요한 이유?

- 값으로 전달받은 객체에 변경을 가하더라도 원본 객체는 변하지 않아야 하는 경우 불변 객체가 필요

얕은 복사와 깊은 복사

- 얕은 복사(shallow copy) : 바로 아래 단계의 값만 복사하는 방법

- 얕은 복사된 객체를 반환하는 함수 예제 코드

  ```js
  var copyObject = function (target) {
    var result = {};

    for (var prop in target) {
      result[prop] = target[prop];
    }

    return result;
  };
  ```

- 깊은 복사(deep copy) : 내부의 모든 값들을 하나하나 찾아서 전부 복사하는 방법

  - 객체의 프로퍼티 중에서 그 값이 기본형 데이터일 경우에는 그대로 복사하면 되지만 참조형 데이터는 다시 그 내부의 프로퍼티들을 복사해야한다.

- 깊은 복사된 객체를 반환하는 함수 예제 코드 (도서에 나온 코드가 뭔가 이상하여 다른 블로그를 통해 발취)

  > 참고 블로그 : [박준우 블로그](https://junwoo45.github.io/2019-09-23-deep_clone/)

  ```js
  const copyObjectDeep = function (target) {
    if (target === null || typeof target !== "object") {
      return target;
    }

    const result = Array.isArray(target) ? [] : {};

    for (let key of Object.keys(target)) {
      result[key] = copyObjectDeep(target[key]);
    }

    return result;
  };
  ```

<br />

## 06. undefined와 null

---

자바스크립트에서 '없음'을 나타내는 값

- null
- undefined

### null

사용자가 명시적으로 "없음"을 표현하기 위해 대입한 값입니다.

null은 typeof가 object라는 점을 주의해야 합니다.

### undefined

어떤 변수에 값이 존재하지 않을 경우를 의미합니다.

사용자가 없음을 표현하기 위해 명시적으로 undefined를 대입하는 것은 지양하는 것이 좋다.
